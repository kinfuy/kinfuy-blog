import{_ as n,c as s,o as a,b as t}from"./app.18227767.js";const g='{"title":"node\u53D1\u9001\u90AE\u4EF6","description":"","frontmatter":{"title":"node\u53D1\u9001\u90AE\u4EF6","theme":"default","tag":"Nodejs","time":"2020.9.26"},"headers":[{"level":2,"title":"node \u53D1\u9001\u90AE\u4EF6","slug":"node-\u53D1\u9001\u90AE\u4EF6"},{"level":3,"title":"\u51C6\u5907\u5DE5\u4F5C","slug":"\u51C6\u5907\u5DE5\u4F5C"},{"level":3,"title":"\u5F15\u5165\u6A21\u5757","slug":"\u5F15\u5165\u6A21\u5757"},{"level":3,"title":"\u7B80\u5355\u914D\u7F6E\uFF08\u8FD9\u91CC\u53EA\u662F\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u9879\uFF0C\u66F4\u591A\u914D\u7F6E\u8BF7\u67E5\u770B\u5B98\u7F51\uFF0C\u5176\u5B9E\u90FD\u662F\u5927\u540C\u5C0F\u5F02\uFF0C\u9700\u8981\u4EC0\u4E48\u6DFB\u52A0\u4EC0\u4E48\u5C31\u53EF\u4EE5\u4E86\uFF09","slug":"\u7B80\u5355\u914D\u7F6E\uFF08\u8FD9\u91CC\u53EA\u662F\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u9879\uFF0C\u66F4\u591A\u914D\u7F6E\u8BF7\u67E5\u770B\u5B98\u7F51\uFF0C\u5176\u5B9E\u90FD\u662F\u5927\u540C\u5C0F\u5F02\uFF0C\u9700\u8981\u4EC0\u4E48\u6DFB\u52A0\u4EC0\u4E48\u5C31\u53EF\u4EE5\u4E86\uFF09"},{"level":3,"title":"\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u62BD\u79BB\u4E3A\u4E00\u4E2A\u6A21\u5757\u65B9\u4FBF\u540E\u671F\u4F7F\u7528(email.js)","slug":"\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u62BD\u79BB\u4E3A\u4E00\u4E2A\u6A21\u5757\u65B9\u4FBF\u540E\u671F\u4F7F\u7528-email-js"}],"relativePath":"views/article/Nodejs/libs/email.md"}',p={},o=t(`<h2 id="node-\u53D1\u9001\u90AE\u4EF6" tabindex="-1">node \u53D1\u9001\u90AE\u4EF6 <a class="header-anchor" href="#node-\u53D1\u9001\u90AE\u4EF6" aria-hidden="true">#</a></h2><h3 id="\u51C6\u5907\u5DE5\u4F5C" tabindex="-1">\u51C6\u5907\u5DE5\u4F5C <a class="header-anchor" href="#\u51C6\u5907\u5DE5\u4F5C" aria-hidden="true">#</a></h3><p>\u4E3A\u4E86\u5B9E\u73B0\u8FD9\u4E2A\u529F\u80FD\uFF0C\u4F60\u9996\u5148\u8981\u6709\u4E00\u4E2A\u90AE\u7BB1\uFF1B\u7531\u4E8E\u9700\u8981\u4F7F\u7528 SMTP \u65B9\u5F0F\u53D1\u9001\uFF0C\u4F60\u8FD8\u9700\u8981\u5F00\u542F\u76F8\u5173\u529F\u80FD\u3002\u4F60\u53EF\u4EE5\u767B\u5F55\u4F60\u7684\u90AE\u7BB1\uFF0C\u7136\u540E\u5F00\u542F\u8FD9\u4E2A\u8BBE\u7F6E\uFF0C\u4EE5 QQ \u90AE\u7BB1\u4E3A\u4F8B\uFF08\u5176\u4ED6\u90AE\u7BB1\u4E5F\u5DEE\u4E0D\u591A\uFF0C\u4E3B\u8981\u5F00\u542F\u670D\u52A1\u83B7\u53D6\u5230\u6388\u6743\u7801\u5C31\u53EF\u4EE5\u4E86\uFF09\uFF1A</p><p><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c248fbe0ed3a44f1af8e90ae2d9f623a~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p><strong>2.\u5B89\u88C5\u6A21\u5757 nodemailer\uFF08\u5F53\u7136\u4E5F\u6709\u5176\u4ED6\u7684\u90AE\u4EF6\u6A21\u5757\uFF0C\u53EF\u4EE5\u81EA\u884C\u9009\u62E9\uFF09</strong></p><div class="language-shell"><pre><code><span class="token function">npm</span> <span class="token function">install</span> nodemailer --save
</code></pre></div><h3 id="\u5F15\u5165\u6A21\u5757" tabindex="-1">\u5F15\u5165\u6A21\u5757 <a class="header-anchor" href="#\u5F15\u5165\u6A21\u5757" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;nodemailer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="\u7B80\u5355\u914D\u7F6E\uFF08\u8FD9\u91CC\u53EA\u662F\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u9879\uFF0C\u66F4\u591A\u914D\u7F6E\u8BF7\u67E5\u770B\u5B98\u7F51\uFF0C\u5176\u5B9E\u90FD\u662F\u5927\u540C\u5C0F\u5F02\uFF0C\u9700\u8981\u4EC0\u4E48\u6DFB\u52A0\u4EC0\u4E48\u5C31\u53EF\u4EE5\u4E86\uFF09" tabindex="-1">\u7B80\u5355\u914D\u7F6E\uFF08\u8FD9\u91CC\u53EA\u662F\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u9879\uFF0C\u66F4\u591A\u914D\u7F6E\u8BF7\u67E5\u770B\u5B98\u7F51\uFF0C\u5176\u5B9E\u90FD\u662F\u5927\u540C\u5C0F\u5F02\uFF0C\u9700\u8981\u4EC0\u4E48\u6DFB\u52A0\u4EC0\u4E48\u5C31\u53EF\u4EE5\u4E86\uFF09 <a class="header-anchor" href="#\u7B80\u5355\u914D\u7F6E\uFF08\u8FD9\u91CC\u53EA\u662F\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u9879\uFF0C\u66F4\u591A\u914D\u7F6E\u8BF7\u67E5\u770B\u5B98\u7F51\uFF0C\u5176\u5B9E\u90FD\u662F\u5927\u540C\u5C0F\u5F02\uFF0C\u9700\u8981\u4EC0\u4E48\u6DFB\u52A0\u4EC0\u4E48\u5C31\u53EF\u4EE5\u4E86\uFF09" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">service</span><span class="token operator">:</span> <span class="token string">&#39;qq&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// host: &quot;smtp.qq.com&quot;, //\u90AE\u7BB1\u670D\u52A1\u7684\u4E3B\u673A\uFF0C\u5982smtp.qq.com</span>
  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;465&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u5BF9\u5E94\u7684\u7AEF\u53E3\u53F7</span>
  <span class="token literal-property property">secureConnection</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">//secureConnection:false,</span>
  <span class="token comment">//\u7528\u6237\u4FE1\u606F</span>
  <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">&#39;\u524D\u671F\u51C6\u5907\u7684\u90AE\u7BB1&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pass</span><span class="token operator">:</span> <span class="token string">&#39;\u6388\u6743\u7801&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u62BD\u79BB\u4E3A\u4E00\u4E2A\u6A21\u5757\u65B9\u4FBF\u540E\u671F\u4F7F\u7528-email-js" tabindex="-1">\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u62BD\u79BB\u4E3A\u4E00\u4E2A\u6A21\u5757\u65B9\u4FBF\u540E\u671F\u4F7F\u7528(email.js) <a class="header-anchor" href="#\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u62BD\u79BB\u4E3A\u4E00\u4E2A\u6A21\u5757\u65B9\u4FBF\u540E\u671F\u4F7F\u7528-email-js" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token comment">//\u5F15\u5165\u6A21\u5757</span>
<span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;nodemailer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u8BBE\u7F6E\u90AE\u7BB1\u914D\u7F6E</span>
<span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">service</span><span class="token operator">:</span> <span class="token string">&#39;qq&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// host: &quot;smtp.qq.com&quot;, //\u90AE\u7BB1\u670D\u52A1\u7684\u4E3B\u673A\uFF0C\u5982smtp.qq.com</span>
  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;465&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u5BF9\u5E94\u7684\u7AEF\u53E3\u53F7</span>
  <span class="token literal-property property">secureConnection</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">//secureConnection:false,</span>
  <span class="token comment">//\u7528\u6237\u4FE1\u606F</span>
  <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">&#39;\u524D\u671F\u51C6\u5907\u7684\u90AE\u7BB1&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pass</span><span class="token operator">:</span> <span class="token string">&#39;\u6388\u6743\u7801&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">sendQQemail</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">mailOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  transporter<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span>mailOptions<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>info<span class="token punctuation">.</span>messageId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">sent: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>info<span class="token punctuation">.</span>response<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>sendQQemail <span class="token operator">=</span> sendQQemail<span class="token punctuation">;</span>
</code></pre></div><p>\u5230\u8FD9\u91CC\u4F60\u5C31\u53EF\u4EE5\u5B8C\u6210\u4E00\u4E9B\u7B80\u5355\u7684\u90AE\u4EF6\u53D1\u9001\u4E86\u3002</p>`,13),e=[o];function c(l,r,i,u,k,d){return a(),s("div",null,e)}var f=n(p,[["render",c]]);export{g as __pageData,f as default};
